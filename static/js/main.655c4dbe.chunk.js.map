{"version":3,"sources":["assets/user-profile.png","serviceWorker.ts","constants/colours.ts","constants/screenSizes.ts","components/Avatar.tsx","components/Sidebar.tsx","components/Page.tsx","slices/settingsSlice.ts","data/defaultNationalities.ts","slices/contactsSlice.ts","constants/index.ts","pages/contacts/ContactListItem.tsx","components/Loader.tsx","components/Banner.tsx","components/SearchBar.tsx","components/Modal.tsx","pages/contacts/ContactsList.tsx","pages/contacts/ContactsPage.tsx","pages/settings/NationalitiesSelector.tsx","pages/settings/SettingsPage.tsx","components/Routes.tsx","components/MenuButton.tsx","components/Header.tsx","components/Backdrop.tsx","App.tsx","slices/index.ts","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","colours","screenSize","Image","styled","img","props","size","Avatar","avatarSize","src","Container","nav","isSidebarOpen","SidebarList","ul","StyledNavLink","NavLink","ProfileContainer","div","Username","span","Sidebar","userProfile","to","exact","onClick","onLinkClicked","section","Content","article","Page","heading","children","initialState","nationalities","label","code","isSelected","settingsSlice","createSlice","name","reducers","getSelectedNationalities","state","action","payload","actions","nationalitiesSelector","settings","selectedNationalityCodes","createSelector","filter","nationality","map","contactsSlice","isLoading","hasErrors","contacts","getContacts","getContactsSuccess","getContactsFailure","resetContactsList","contactsSelector","fetchContacts","dispatch","getState","a","selectedNationalities","axios","get","response","data","results","user","id","login","uuid","username","avatarUrl","picture","large","email","ContactsDetailsContainer","ContactName","ContactUsername","ContactEmail","ContactListItem","contact","first","last","DotsContainer","Dot","Text","Loader","textElement","text","Banner","Input","input","SearchBar","useState","inputText","setInputText","value","onChange","e","target","trim","onSearchTextChanged","placeholder","modalRoot","document","getElementById","createElement","ModalContainer","ModalBody","Modal","targetContainer","useEffect","appendChild","removeChild","isOpen","createPortal","style","CenteredContainer","List","ContactsList","useSelector","contactsListRef","useRef","useDispatch","numContactsToDisplay","setNumContactsToDisplay","contactSearchText","setContactSearchText","isModalOpen","setModalOpen","selectedContact","setSelectedContact","length","current","handleScroll","offsetHeight","scrollTop","scrollHeight","addEventListener","removeEventListener","ref","toLowerCase","includes","index","key","openModal","Contacts","NationalitiesSelector","availableNationalities","setAvailableNationalities","showSettingsSavedMessage","setShowSettingsSavedMessage","type","checked","selectedNationality","newNationalities","setTimeout","onNationalityClicked","Greeting","p","SettingsPage","main","Routes","path","ContactsPage","StyledMenuButton","button","MenuButton","aria-label","aria-expanded","header","Title","h3","Header","onMenuButtonClicked","Backdrop","Layout","App","setSidebarOpen","toggleSidebar","backdrop","rootReducer","combineReducers","contactsReducer","settingsReducer","store","configureStore","reducer","GlobalStyle","createGlobalStyle","ReactDOM","render","theme","primary","Fragment","basename","process","component","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.655c4dbe.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAADNBAMAAADpkulaAAAAElBMVEXc1KbMx7A/Egb/+dwkQmyV1Oi7WMeAAAAAz0lEQVR42u3WSwrCMBQF0ExcgbgBxbmldQW28/rb/1acqKDSkIEKeT33TR850HBD0/UvGROHw+FwOBwOh8PhcDgcDofzLee0LsuWw+FwOBzODJ1Nm8uew+FwOBzObJzjsrlPG8I5t2WpxmnKPlw1TrD70R/90R/9iX8/+anFCfy+ZWdVi6M/+qM/7kd/KnN26TOLghM4HA6Hw+H81rn0jxyyfwXdc2/gcDjhnUmse13hcDixnLfT+ymsy+4NHA4nvFMaDofD4XA4HA6HE8C5AdnNl/zz8GiBAAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const colours = {\n  primary: '#3a529c',\n  secondary: '#1ca9f0',\n  white: '#ffffff',\n  black: '#000000',\n  grey: '#ededf7',\n  offWhite: '#f4f5f9',\n  navy: '#495576',\n};\n","export const screenSize = {\n  small: '320px',\n  medium: '640px',\n  large: '1024px',\n};\n","import React from 'react';\nimport styled from 'styled-components/macro';\n\ninterface Props {\n  src: string;\n  size?: string;\n}\n\nconst Image = styled.img<Props>`\n  border-radius: 50%;\n  height: ${(props) => props.size};\n  width: ${(props) => props.size};\n`;\n\nconst Avatar: React.FunctionComponent<Props> = (props: Props) => {\n  const avatarSize = props.size || '2rem';\n  return <Image src={props.src} size={avatarSize}></Image>;\n};\n\nexport default Avatar;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { NavLink } from 'react-router-dom';\nimport { colours } from '../constants/colours';\nimport { screenSize } from '../constants/screenSizes';\nimport { UserFriends as UserFriendsIcon } from '@styled-icons/fa-solid/UserFriends';\nimport { Settings2 as SettingsIcon } from '@styled-icons/evaicons-solid/Settings2';\nimport Avatar from './Avatar';\nimport userProfile from '../../src/assets/user-profile.png';\n\ninterface Props {\n  isSidebarOpen?: boolean;\n  onLinkClicked?: () => void;\n}\n\nconst Container = styled.nav<Props>`\n  grid-area: sidebar;\n  background-color: ${colours.grey};\n  display: flex;\n  flex-direction: column;\n  min-width: 250px;\n  box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.5);\n\n  /* This style will trigger when the screen width is less than 640px (i.e tablet size) */\n  @media (max-width: ${screenSize.medium}) {\n    position: absolute;\n    height: 100%;\n    transition: transform 0.3s ease-in-out;\n    transform: translateX(${(props) => (props.isSidebarOpen ? '0' : '-100%')});\n    min-width: 70%;\n    z-index: 2;\n  }\n`;\n\nconst SidebarList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin-top: 0;\n`;\n\nconst StyledNavLink = styled(NavLink)`\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  align-items: center;\n  padding: 20px;\n  text-transform: capitalize;\n  text-decoration: none;\n  border-left: solid 5px ${colours.grey};\n  color: ${colours.primary};\n  font-size: 1.3rem;\n  font-weight: bold;\n\n  @media (min-width: ${screenSize.medium}) {\n    font-size: 1rem;\n  }\n\n  &.active {\n    background-color: white;\n    border-left: solid 5px ${colours.secondary};\n  }\n\n  /* List Item Icon */\n  svg {\n    height: 1em;\n    width: 1em;\n    margin-right: 1rem;\n  }\n`;\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px;\n  background-color: ${colours.primary};\n  color: ${colours.grey};\n`;\n\nconst Username = styled.span`\n  margin-top: 10px;\n  font-size: 1rem;\n`;\n\nconst Sidebar: React.FunctionComponent<Props> = (props: Props) => {\n  return (\n    <Container isSidebarOpen={props.isSidebarOpen}>\n      <ProfileContainer>\n        <Avatar src={userProfile} size={'6rem'} />\n        <Username>Cathal Mac Donnacha</Username>\n      </ProfileContainer>\n      <SidebarList>\n        <li>\n          <StyledNavLink to=\"/\" exact onClick={props.onLinkClicked}>\n            <UserFriendsIcon />\n            Contacts\n          </StyledNavLink>\n        </li>\n        <li>\n          <StyledNavLink to=\"/settings\" onClick={props.onLinkClicked}>\n            <SettingsIcon />\n            Settings\n          </StyledNavLink>\n        </li>\n      </SidebarList>\n    </Container>\n  );\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { colours } from '../constants/colours';\n\nconst Container = styled.section`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding: 20px;\n\n  & h1 {\n    margin: 0;\n    color: ${colours.navy};\n  }\n`;\n\nconst Content = styled.article`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  height: 100%;\n`;\n\ninterface Props {\n  heading: string;\n  children?: React.ReactElement | React.ReactElement[];\n}\n\nconst Page: React.FunctionComponent<Props> = (props: Props) => {\n  return (\n    <Container>\n      <h1>{props.heading}</h1>\n      <Content>{props.children}</Content>\n    </Container>\n  );\n};\n\nexport default Page;\n","import { createSlice, PayloadAction, createSelector } from '@reduxjs/toolkit';\nimport { RootState } from '.';\nimport { defaultNationalities } from '../data/defaultNationalities';\n\nexport interface SettingsState {\n  nationalities: Nationality[];\n}\n\nexport interface Nationality {\n  label: string;\n  code: string;\n  isSelected: boolean;\n}\n\nexport const initialState: SettingsState = {\n  nationalities: [...defaultNationalities],\n};\n\n// Instead of dealing with reducers, actions, and all as separate files and individually creating all those action types, Redux Toolkit gives us the concept of slices.\n// A slice automatically generates reducers, action types, and action creators all in one place. As such, you'll only have to create one folder - slices.\n// Notice below, the reducers and actions will share the same name.\nconst settingsSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    getSelectedNationalities: (state: SettingsState, action: PayloadAction<Nationality[]>) => {\n      // Mutating the state directly is usually bad but the 'immer' package, which comes with Redux Toolkit, handles this for us.\n      state.nationalities = action.payload;\n    },\n  },\n});\n\n// Three actions generated from the slice. We don't have to define them above since they use the same names as the reducers.\nexport const { getSelectedNationalities } = settingsSlice.actions;\n\n// A selector which we'll use to access the 'settings' root state from a React component instead of using mapStateToProps (the old way).\n// Note: This is not the `settings` property you see at the top of this file but rather the root Settings state in index.ts. They just share the same name.\nexport const settingsSelector = (state: RootState) => state.settings;\n\n// Nationalities selector\nexport const nationalitiesSelector = (state: RootState) => state.settings.nationalities;\n\n// A Memoized selector which returns the selected nationality codes.\n// Usually this selector would fire when ANY part of the state changes. However, the Reselect library which comes built into Redux Toolkit will ensure that this will only fire when the 'settings.nationalities' state changes.\nexport const selectedNationalityCodes = createSelector(nationalitiesSelector, (nationalities) => {\n  // First get the selected nationality objects\n  const selectedNationalities = nationalities.filter((nationality) => nationality.isSelected);\n\n  // Then return only the codes\n  return selectedNationalities.map((nationality) => nationality.code);\n});\n\n// The reducer. Again this is exposed by the 'settingsSlice' object created above. In the old Redux this was the equivalent to returning the current settings state inside a separate `settingsReducer.ts` file.\nexport default settingsSlice.reducer;\n","export const defaultNationalities = [\r\n  {\r\n    label: 'Switzerland',\r\n    code: 'ch',\r\n    isSelected: false,\r\n  },\r\n  {\r\n    label: 'Spain',\r\n    code: 'es',\r\n    isSelected: false,\r\n  },\r\n  {\r\n    label: 'France',\r\n    code: 'fr',\r\n    isSelected: false,\r\n  },\r\n  {\r\n    label: 'Great Britain',\r\n    code: 'gb',\r\n    isSelected: false,\r\n  },\r\n];\r\n","import { createSlice, PayloadAction, Dispatch } from '@reduxjs/toolkit';\nimport { RootState } from '.';\nimport axios from 'axios';\nimport { MAX_FETCH_BATCH_SIZE } from '../constants';\nimport { selectedNationalityCodes } from './settingsSlice';\n\nexport interface ContactsState {\n  isLoading: boolean;\n  hasErrors: boolean;\n  contacts: Contact[];\n}\n\nexport interface Contact {\n  id: string;\n  name: ContactName;\n  username: string;\n  avatarUrl: string;\n  email: string;\n}\nexport interface ContactName {\n  first: string;\n  last: string;\n}\n\nexport const initialState: ContactsState = {\n  isLoading: false,\n  hasErrors: false,\n  contacts: [],\n};\n\n// Instead of dealing with reducers, actions, and all as separate files and individually creating all those action types, Redux Toolkit gives us the concept of slices.\n// A slice automatically generates reducers, action types, and action creators all in one place. As such, you'll only have to create one folder - slices.\n// Notice below, the reducers and actions will share the same name.\nconst contactsSlice = createSlice({\n  name: 'contacts',\n  initialState,\n  reducers: {\n    getContacts: (state: ContactsState) => {\n      state.isLoading = true;\n    },\n    getContactsSuccess: (state: ContactsState, action: PayloadAction<Contact[]>) => {\n      // Mutating the state directly is usually bad but the 'immer' package, which comes with Redux Toolkit, handles this for us.\n      state.contacts = [...state.contacts, ...action.payload];\n      state.isLoading = false;\n      state.hasErrors = false;\n    },\n    getContactsFailure: (state) => {\n      state.isLoading = false;\n      state.hasErrors = true;\n    },\n    resetContactsList: (state) => {\n      state.contacts = [];\n    },\n  },\n});\n\n// Three actions generated from the slice. We don't have to define them above since they use the same names as the reducers.\nexport const { getContacts, getContactsSuccess, getContactsFailure, resetContactsList } = contactsSlice.actions;\n\n// A selector which we'll use to access the 'contacts' root state from a React component instead of using mapStateToProps (the old way).\n// Note: This is not the `contacts` property you see at the top of this file but rather the root Contacts state in index.ts. They just share the same name.\nexport const contactsSelector = (state: RootState) => state.contacts;\n\n// The reducer. Again this is exposed by the 'contactsSlice' object created above. In the old Redux this was the equivalent to returning the current contacts state inside a separate `contactsReducer.ts` file.\nexport default contactsSlice.reducer;\n\n// Asynchronous thunk action\nexport function fetchContacts() {\n  return async (dispatch: Dispatch, getState: () => RootState) => {\n    dispatch(getContacts());\n\n    // Get the selected nationality codes via the selectedNationalityCodes selector\n    const selectedNationalities = selectedNationalityCodes(getState());\n\n    try {\n      const response = await axios.get(`https://randomuser.me/api?results=${MAX_FETCH_BATCH_SIZE}&nat=${selectedNationalities}`);\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const contacts: Contact[] = response.data.results.map((user: any) => {\n        return {\n          id: user.login.uuid,\n          name: user.name,\n          username: user.login.username,\n          avatarUrl: user.picture.large,\n          email: user.email,\n        };\n      });\n\n      dispatch(getContactsSuccess(contacts));\n    } catch (error) {\n      dispatch(getContactsFailure());\n    }\n  };\n}\n","export const MAX_FETCH_BATCH_SIZE = 10;\r\nexport const MAX_TOTAL_CONTACTS = 50;\r\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { Contact } from '../../slices/contactsSlice';\nimport { colours } from '../../constants/colours';\nimport Avatar from '../../components/Avatar';\n\ninterface Props {\n  contact: Contact;\n  onClick?: () => void;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n  background-color: ${colours.grey};\n  margin: 10px 0;\n  min-height: 4rem;\n  border-radius: 5px;\n  padding: 15px 15px 15px 25px;\n`;\n\nconst ContactsDetailsContainer = styled.div`\n  display: flex;\n  margin-left: 20px;\n  flex-direction: column;\n`;\n\nconst ContactName = styled.span`\n  display: flex;\n  flex-direction: column;\n  color: ${colours.navy};\n  font-size: 1.3rem;\n  font-weight: bold;\n  margin-bottom: 12px;\n`;\n\nconst ContactUsername = styled.span`\n  display: flex;\n  flex-direction: column;\n  color: ${colours.navy};\n  font-weight: bold;\n  font-size: 0.8rem;\n  margin-bottom: 5px;\n`;\n\nconst ContactEmail = styled.span`\n  display: flex;\n  flex-direction: column;\n  color: ${colours.navy};\n  font-weight: bold;\n  font-size: 0.8rem;\n`;\n\nconst ContactListItem: React.FunctionComponent<Props> = (props: Props) => {\n  return (\n    <Container onClick={props.onClick}>\n      <Avatar src={props.contact.avatarUrl} size={'5rem'} />\n      <ContactsDetailsContainer>\n        <ContactName>\n          {props.contact.name.first} {props.contact.name.last}\n        </ContactName>\n        <ContactUsername>{props.contact.username}</ContactUsername>\n        <ContactEmail>{props.contact.email}</ContactEmail>\n      </ContactsDetailsContainer>\n    </Container>\n  );\n};\n\nexport default ContactListItem;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { colours } from '../constants/colours';\n\ninterface Props {\n  text?: string;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 100px;\n  min-height: 100px;\n`;\n\nconst DotsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  min-width: 100px;\n  min-height: 100px;\n`;\n\nconst Dot = styled.span`\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  background-color: ${colours.secondary};\n  margin: 35px 5px;\n\n  &:nth-child(1) {\n    animation: bounce 1s ease-in-out infinite;\n  }\n\n  &:nth-child(2) {\n    animation: bounce 1s ease-in-out 0.1s infinite;\n  }\n\n  &:nth-child(3) {\n    animation: bounce 1s ease-in-out 0.2s infinite;\n  }\n\n  @keyframes bounce {\n    0%,\n    75%,\n    100% {\n      -webkit-transform: translateY(0);\n      -ms-transform: translateY(0);\n      -o-transform: translateY(0);\n      transform: translateY(0);\n    }\n\n    25% {\n      -webkit-transform: translateY(-20px);\n      -ms-transform: translateY(-20px);\n      -o-transform: translateY(-20px);\n      transform: translateY(-20px);\n    }\n  }\n`;\n\nconst Text = styled.span``;\n\nconst Loader: React.FunctionComponent<Props> = (props: Props) => {\n  const textElement = props.text ? <Text>{props.text}</Text> : null;\n\n  return (\n    <Container>\n      <DotsContainer>\n        <Dot></Dot>\n        <Dot></Dot>\n        <Dot></Dot>\n      </DotsContainer>\n      {textElement}\n    </Container>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { colours } from '../constants/colours';\r\n\r\ninterface Props {\r\n  text: string;\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: 30px;\r\n  background-color: ${colours.secondary};\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${colours.white};\r\n`;\r\n\r\nconst Banner: React.FunctionComponent<Props> = (props: Props) => {\r\n  return <Container>{props.text}</Container>;\r\n};\r\n\r\nexport default Banner;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ninterface Props {\r\n  placeholder?: string;\r\n  onSearchTextChanged: (text: string) => void;\r\n}\r\n\r\nconst Input = styled.input`\r\n  border: blue 1px solid;\r\n`;\r\n\r\nconst SearchBar: React.FunctionComponent<Props> = (props: Props) => {\r\n  const [inputText, setInputText] = useState('');\r\n\r\n  const onTextChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputText(e.target.value.trim());\r\n\r\n    // if (!props) {\r\n    props.onSearchTextChanged(e.target.value.trim());\r\n  };\r\n\r\n  return <Input value={inputText} onChange={onTextChanged} placeholder={props.placeholder}></Input>;\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styled from 'styled-components';\r\n\r\n// This component utilizes React Portal which provides a way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.\r\n// This makes it ideal for Modals where you want it to overlap every other child component.\r\n\r\n// 'modal-root' is a sibling to 'app-root' which exists in index.html\r\nconst modalRoot: HTMLElement = document.getElementById('modal') || document.createElement('div');\r\n\r\ninterface Props {\r\n  isOpen: boolean;\r\n  // Typescript doesn't seem to play nicely with React Portal types\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  children: any;\r\n}\r\n\r\nconst ModalContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n`;\r\n\r\nconst ModalBody = styled.div`\r\n  width: 50%;\r\n  background: white;\r\n  height: 50vh;\r\n  text-align: center;\r\n`;\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst Modal: React.FunctionComponent<Props> = (props: Props): any => {\r\n  // Element to which the modal will be rendered\r\n  const targetContainer: HTMLDivElement = document.createElement('div');\r\n\r\n  useEffect(() => {\r\n    if (modalRoot) {\r\n      // append to root when the children of Modal are mounted\r\n      modalRoot.appendChild(targetContainer);\r\n\r\n      // do a cleanup\r\n      return () => {\r\n        modalRoot.removeChild(targetContainer);\r\n      };\r\n    }\r\n  }, [targetContainer]);\r\n\r\n  return (\r\n    props.isOpen &&\r\n    createPortal(\r\n      // This is what gets rendered when the modal is opened\r\n      <ModalContainer>\r\n        <ModalBody style={{}}>{props.children}</ModalBody>\r\n      </ModalContainer>,\r\n      targetContainer,\r\n    )\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useRef, useEffect, useState } from 'react';\nimport styled from 'styled-components/macro';\nimport { Contact, contactsSelector, fetchContacts } from '../../slices/contactsSlice';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ContactsListItem from './ContactListItem';\nimport Loader from '../../components/Loader';\nimport { MAX_FETCH_BATCH_SIZE, MAX_TOTAL_CONTACTS } from '../../constants';\nimport Banner from '../../components/Banner';\nimport SearchBar from '../../components/SearchBar';\nimport Modal from '../../components/Modal';\n\nconst Container = styled.ul`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  list-style: none;\n  padding: 0;\n  overflow-y: auto;\n`;\n\nconst CenteredContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  list-style: none;\n  padding: 0;\n  overflow-y: auto;\n`;\n\nconst ContactsList: React.FunctionComponent = () => {\n  const { contacts, isLoading, hasErrors } = useSelector(contactsSelector);\n  const contactsListRef = useRef<HTMLUListElement>(null);\n  const dispatch = useDispatch();\n  const [numContactsToDisplay, setNumContactsToDisplay] = useState<number>(MAX_FETCH_BATCH_SIZE);\n  const [contactSearchText, setContactSearchText] = useState<string>('');\n  const [isModalOpen, setModalOpen] = useState<boolean>(false);\n  const [selectedContact, setSelectedContact] = useState<Contact | null>(null);\n\n  // Load the initial users\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    // Don't fetch any more users if we've already reached the max allowed.\n    if (numContactsToDisplay >= MAX_TOTAL_CONTACTS) {\n      return;\n    }\n\n    // We always want to pre-fetch more contacts to give a better user experience.\n    // numContactsToDisplay is updated each time the user scrolls to bottom, this will\n    // dispatch fetchContacts() meaning 'contacts.length' will always be greater than numContactsToDisplay\n    // until we have reached the MAX_TOTAL_CONTACTS.\n    // For example we may have 100 contacts but only displaying 50. When the user scrolls to bottom we can then quickly display 100 and fetch more.\n    if (contacts.length === numContactsToDisplay) {\n      dispatch(fetchContacts());\n    }\n  }, [dispatch, contacts.length, numContactsToDisplay]);\n\n  // Handles the scroll updates\n  useEffect(() => {\n    // A reference to the contacts list\n    const { current } = contactsListRef;\n    if (!current) {\n      return;\n    }\n\n    const handleScroll = () => {\n      // Check if the user has scrolled to the bottom\n      if (current.offsetHeight + current.scrollTop !== current.scrollHeight) {\n        return;\n      }\n\n      // Don't bother updating 'numContactsToDisplay' since we've already reached the max number of contacts to display.\n      if (numContactsToDisplay >= MAX_TOTAL_CONTACTS) {\n        return;\n      }\n\n      // User has scrolled to bottom so update 'numContactsToDisplay' which will tell our app that we can pre-fetch more.\n      setNumContactsToDisplay(numContactsToDisplay + MAX_FETCH_BATCH_SIZE);\n    };\n\n    // Subscribe to the scroll event\n    current.addEventListener('scroll', handleScroll);\n\n    // Unsubscribe to the scroll event. Returning a function here tells React to perform a cleanup.\n    return () => current.removeEventListener('scroll', handleScroll);\n  }, [contactsListRef, numContactsToDisplay]);\n\n  const openModal = (contact: Contact) => {\n    setSelectedContact(contact);\n    setModalOpen(!isModalOpen);\n  };\n\n  const closeModal = () => {\n    setModalOpen(!isModalOpen);\n    setSelectedContact(null);\n  };\n\n  const renderContacts = () => {\n    if (isLoading && contacts.length === 0) {\n      return (\n        <CenteredContainer>\n          <Loader text={'Loading contacts...'} />\n        </CenteredContainer>\n      );\n    }\n\n    if (hasErrors || (!isLoading && contacts.length === 0)) {\n      return (\n        <CenteredContainer>\n          <span>{\"Couldn't find contacts 😥\"}</span>\n        </CenteredContainer>\n      );\n    }\n\n    // Search for users by first or last name\n    const searchedContacts = contacts.filter((contact) => {\n      const contactFullName = `${contact.name.first} ${contact.name.last}`.toLowerCase();\n      return contactFullName.includes(contactSearchText.toLowerCase());\n    });\n\n    return searchedContacts.map((contact: Contact, index: number) => {\n      // Only render the list items that we are allowed to display.\n      // Otherwise, since we are pre-fetching, it would display ALL the available contacts.\n      if (index >= numContactsToDisplay) {\n        return null;\n      }\n\n      return (\n        <li key={contact.id}>\n          <ContactsListItem contact={contact} onClick={() => openModal(contact)} />\n        </li>\n      );\n    });\n  };\n\n  return (\n    <Container>\n      <span>Contacts length: {contacts.length}</span>\n      <span>Actually displayed: {contactsListRef?.current?.children?.length}</span>\n      <span>numContactsToDisplay: {numContactsToDisplay}</span>\n\n      <SearchBar\n        placeholder={'Search...'}\n        onSearchTextChanged={(text: string) => {\n          setContactSearchText(text);\n        }}\n      />\n      <List ref={contactsListRef}>\n        {renderContacts()}\n\n        {/* Display a banner to tell the user we have reached the end of the list */}\n        {numContactsToDisplay >= MAX_TOTAL_CONTACTS && (\n          <li>\n            <Banner text=\"End of users catalog\" />\n          </li>\n        )}\n      </List>\n\n      <Modal isOpen={isModalOpen}>\n        {/* Using \"Typescript Optional Chaining\" here to check if \"selectedContact\" or \"selectedContact.name\" is null before using the \"selectedContact.name.first\" property*/}\n        <span>Hello {selectedContact?.name?.first}</span>\n        <button onClick={closeModal}>close modal</button>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default ContactsList;\n","import React from 'react';\nimport Page from '../../components/Page';\nimport ContactsList from './ContactsList';\n\nconst Contacts: React.FunctionComponent = () => {\n  return (\n    <Page heading=\"Contacts\">\n      <ContactsList />\n    </Page>\n  );\n};\n\nexport default Contacts;\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { getSelectedNationalities, Nationality, nationalitiesSelector } from '../../slices/settingsSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { resetContactsList } from '../../slices/contactsSlice';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  background-color: white;\r\n`;\r\n\r\nconst NationalitiesSelector: React.FunctionComponent = () => {\r\n  const dispatch = useDispatch();\r\n  const nationalities = useSelector(nationalitiesSelector);\r\n  const [availableNationalities, setAvailableNationalities] = useState<Nationality[]>(nationalities);\r\n  const [showSettingsSavedMessage, setShowSettingsSavedMessage] = useState<boolean>(false);\r\n\r\n  const onNationalityClicked = (selectedNationality: Nationality) => {\r\n    // Make a copy of the nationalities array so we don't mutate this component's state directly\r\n    const newNationalities = availableNationalities.map((nationality) => {\r\n      // If this nationality code doesn't match then ignore it\r\n      if (nationality.code !== selectedNationality.code) {\r\n        return nationality;\r\n      }\r\n\r\n      // Otherwise update the checkbox\r\n      return { ...nationality, isSelected: !selectedNationality.isSelected };\r\n    });\r\n\r\n    // Update this component's local state\r\n    setAvailableNationalities([...newNationalities]);\r\n\r\n    // Dispatch an action to update the global state\r\n    dispatch(getSelectedNationalities(newNationalities));\r\n\r\n    // Reset the contacts list now that we have new nationalities\r\n    dispatch(resetContactsList());\r\n\r\n    // Show \"Settings Saved\" message and hide it 2 seconds later to give the user instant feedback\r\n    setShowSettingsSavedMessage(true);\r\n    setTimeout(() => setShowSettingsSavedMessage(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ul>\r\n        {availableNationalities.map((nationality: Nationality) => {\r\n          return (\r\n            <li key={nationality.code}>\r\n              <label>\r\n                {nationality.label}\r\n                <input type=\"checkbox\" checked={nationality.isSelected} onChange={() => onNationalityClicked(nationality)}></input>\r\n              </label>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n\r\n      {showSettingsSavedMessage && <span>{'Settings saved! 👌'}</span>}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NationalitiesSelector;\r\n","import React from 'react';\nimport styled from 'styled-components';\nimport Page from '../../components/Page';\nimport NationalitiesSelector from './NationalitiesSelector';\n\nconst Greeting = styled.p`\n  display: flex;\n  background-color: white;\n  justify-content: center;\n`;\n\nconst SettingsPage: React.FunctionComponent = () => {\n  return (\n    <Page heading=\"Settings\">\n      <Greeting>Select nationalities to be included in your address book:</Greeting>\n\n      <NationalitiesSelector />\n    </Page>\n  );\n};\n\nexport default SettingsPage;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { Switch, Route } from 'react-router-dom';\nimport ContactsPage from '../pages/contacts/ContactsPage';\nimport SettingsPage from '../pages/settings/SettingsPage';\n\nconst Container = styled.main`\n  grid-area: content;\n  display: flex;\n  flex: 1;\n  margin: 10px;\n  overflow-y: hidden;\n`;\n\nconst Routes: React.FunctionComponent = () => {\n  return (\n    <Container>\n      {/*\n        A <Switch> looks through all its children <Route> elements and renders the first one whose path\n        matches the current URL. Use a <Switch> any time you have multiple routes, but you want only one\n        of them to render at a time. Once it finds the url, the route is rendered while the rest are ignored. \n      */}\n      <Switch>\n        {/* \n          'exact' is used here because '<Route path>' will always match the beginning of the URL, not the whole thing.\n          So a <Route path=\"/\"> will always match the URL, no matter what it is. Because of this, we typically put this <Route> last in our <Switch>. \n          Another possible solution is to use <Route exact path=\"/\"> which DOES match the entire URL.\n        */}\n        <Route exact path=\"/\">\n          <ContactsPage />\n        </Route>\n        <Route path=\"/settings\">\n          <SettingsPage />\n        </Route>\n      </Switch>\n    </Container>\n  );\n};\n\nexport default Routes;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport { screenSize } from '../constants/screenSizes';\nimport { colours } from '../constants/colours';\n\ninterface Props {\n  isOpen: boolean;\n  onClick: () => void;\n}\n\nconst StyledMenuButton = styled.button<Props>`\n  @media (min-width: ${screenSize.medium}) {\n    display: none;\n  }\n\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n\n  /* Should not remove focus outline as it degrades accessability */\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background: ${colours.white};\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ${({ isOpen }) => (isOpen ? 'rotate(45deg)' : 'rotate(0)')};\n    }\n\n    :nth-child(2) {\n      opacity: ${({ isOpen }) => (isOpen ? '0' : '1')};\n      transform: ${({ isOpen }) => (isOpen ? 'translateX(20px)' : 'translateX(0)')};\n    }\n\n    :nth-child(3) {\n      transform: ${({ isOpen }) => (isOpen ? 'rotate(-45deg)' : 'rotate(0)')};\n    }\n  }\n`;\n\nconst MenuButton: React.FunctionComponent<Props> = (props: Props) => {\n  return (\n    <StyledMenuButton aria-label=\"Toggle menu\" aria-expanded={props.isOpen} isOpen={props.isOpen} onClick={props.onClick}>\n      <div />\n      <div />\n      <div />\n    </StyledMenuButton>\n  );\n};\n\nexport default MenuButton;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport MenuButton from './MenuButton';\nimport { screenSize } from '../constants/screenSizes';\nimport { colours } from '../constants/colours';\n\ninterface Props {\n  isSidebarOpen: boolean;\n  onMenuButtonClicked: () => void;\n}\n\nconst Container = styled.header`\n  grid-area: header;\n  background-color: #3a529c;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  padding-left: 15px;\n  box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.5);\n`;\n\nconst Title = styled.h3`\n  margin-left: 2.5em;\n  color: ${colours.white};\n\n  @media (min-width: ${screenSize.medium}) {\n    margin-left: 0.2em;\n  }\n`;\n\nconst Header: React.FunctionComponent<Props> = (props: Props) => {\n  return (\n    <Container>\n      <MenuButton isOpen={props.isSidebarOpen} onClick={props.onMenuButtonClicked} />\n      <Title>{'📖 Awesome Address Book'}</Title>\n    </Container>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components/macro';\n\ninterface Props {\n  onClick: () => void;\n}\n\nconst Container = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.3);\n  z-index: 1;\n`;\n\nconst Backdrop: React.FunctionComponent<Props> = (props: Props) => {\n  return <Container onClick={props.onClick} />;\n};\n\nexport default Backdrop;\n","import React, { useState } from 'react';\nimport styled from 'styled-components/macro';\nimport Sidebar from './components/Sidebar';\nimport Routes from './components/Routes';\nimport Header from './components/Header';\nimport Backdrop from './components/Backdrop';\n\nconst Layout = styled.div`\n  height: 100%;\n\n  /* A 2 rows x 2 columns css grid */\n  display: grid;\n  grid-template-rows: 50px 1fr;\n  grid-template-columns: auto 2fr;\n  grid-template-areas:\n    'header header'\n    'sidebar content';\n`;\n\nfunction App(): JSX.Element {\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\n\n  const toggleSidebar = (): void => {\n    setSidebarOpen(!isSidebarOpen);\n  };\n\n  const onSidebarLinkClicked = (): void => {\n    if (isSidebarOpen) {\n      toggleSidebar();\n    }\n  };\n\n  const backdrop = isSidebarOpen ? <Backdrop onClick={toggleSidebar} /> : null;\n\n  return (\n    <Layout>\n      <Header isSidebarOpen={isSidebarOpen} onMenuButtonClicked={toggleSidebar} />\n      <Sidebar isSidebarOpen={isSidebarOpen} onLinkClicked={onSidebarLinkClicked} />\n      {backdrop}\n      <Routes />\n    </Layout>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport contactsReducer from './contactsSlice';\nimport settingsReducer from './settingsSlice';\n\nconst rootReducer = combineReducers({\n  contacts: contactsReducer,\n  settings: settingsReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { createGlobalStyle, ThemeProvider } from 'styled-components';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { configureStore } from '@reduxjs/toolkit';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport rootReducer from './slices';\nimport { colours } from './constants/colours';\n\nconst store = configureStore({ reducer: rootReducer });\n\nconst theme = {\n  primary: '#00C068',\n};\n\nconst GlobalStyle = createGlobalStyle`\n  html, #root {\n    background-color: ${colours.offWhite};\n    height: 100%;\n  }\n\n  body {\n    height: 100%;\n\n    margin: 0;\n    font-family: 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans',\n      'Droid Sans', 'Helvetica Neue', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n`;\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <React.Fragment>\n        <Router basename={process.env.PUBLIC_URL}>\n          <Route path=\"/\" component={App}></Route>\n        </Router>\n        <GlobalStyle />\n      </React.Fragment>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}